<script class="ko-template" type="text/x-jquery-tmpl"
        id="handler-roles-template">
  <h2 data-bind="ltext: 'handler-roles.title'"></h2>
  <table class="handler-roles">
    <thead>
      <tr>
        <!-- ko foreach: languages -->
        <th data-bind="text: $parent.nameHeader( $data )"></th>
        <!-- /ko -->
        <th></th>
      </tr>
    </thead>
    <tbody data-bind="foreach: roles">
      <tr>
        <!-- ko foreach: $parent.languages -->
        <td>
          <input type="text"
                 class="grid-style-input" 
                 data-bind="value: $parent.name[$data],
                            disable: $parents[1].isDisabled,
                            css: {required: $parents[1].isRequired( $parent.name, $data )},
                            testId: sprintf( 'edit-role-%s-%s', $parentContext.$index, $data )">
        </td>
        <!-- /ko -->
        <td>
          <i class="lupicon-remove primary"
             data-bind="visible: !$parent.isDisabled() && !$data.general,
                        click: $parent.removeRole,
                        testId: sprintf( 'remove-role-%s', $index() )">
          </i>
        </td>
      </tr>
    </tbody>
  </table>
  <icon-button params="ltext: 'handler-roles.add',
                       click: addRole,
                       icon: 'circle-plus',
                       testId: 'add-handler-role'"
               data-bind="visible: !isDisabled()"></icon-button>
</script>
