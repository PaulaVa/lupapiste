<!DOCTYPE html>
<html>
  <body>
    <section class="page" id="add-link-permit" style="visibility: visible; display: block;">
      <div id="dialog-add-link-permit" class="window autosized" >
        <div data-bind="with: addLinkPermitModel">
          <div class="dialog-header">
            <p data-bind="ltext: 'linkPermit.dialog.header'"></p>
            <p class="dialog-close close lupicon-remove"></p>
          </div>

          <div class="dialog-content">

            <p data-bind ="lhtml: 'linkPermit.dialog.helpParagraph'"></p>

            <link-permit-autocomplete params="list: appMatches,
                                              value: selectedLinkPermit,
                                              disable: _.trim(kuntalupatunnus())"></link-permit-autocomplete>

            <div data-bind="ltext: 'linkPermit.dialog.or'" class="or top-marginM"></div>

            <label class="form-label" data-bind ="ltext: 'linkPermit.dialog.kuntalupatunnus'"></label>
            <input data-bind="textInput: kuntalupatunnus,
                              disable: selectedLinkPermit"
                   data-test-id="application-kuntalupatunnus-for-link-permit"
                   type="text" maxlength="100" class="form-input grid-style-input" >
            <br>

            <div data-bind="if: errorMessage" >
              <div data-bind="ltext: errorMessage" class="context-error"></div>
            </div>

            <button class="btn btn-primary btn-dialog"
                    data-bind="click: addLinkPermit, enable: ok, disable: processing"
                    data-test-id="button-link-permit-dialog-add">
              <span data-bind="ltext: 'linkPermit.dialog.continue'"></span>
              <em data-bind="visible: pending" class="button-loader"></em>
            </button>

            <a data-bind="ltext: 'cancel'" class="btn-dialog close cancel" href="#"
               data-test-id="button-link-permit-dialog-cancel"></a>

          </div>
        </div>
      </div>
    </section>
  </body>
</html>
