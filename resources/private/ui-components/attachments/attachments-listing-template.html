<script class="ko-template" type="text/x-jquery-tmpl"
        id="attachments-listing-template">

  <h1 data-bind="ltext: 'application.tabAttachments'"></h1>
  <span data-bind="component: {
                   name: 'help-toggle',
                   params: {lhtml: 'help.' + $root.application.permitType() + '.attachmentsDesc' }
                   }"></span>
  <div class="clear"></div>
  <div data-bind="template: {name: 'attachments-operation-buttons-template',
                             data: $data}"></div>

  <suti-display></suti-display>

  <!-- ko if: $data.hasUnfilteredAttachments() -->
  <filters></filters>
  <!-- /ko -->

  <!-- ko if: $data.hasUnfilteredAttachments() && $data.hasFilteredAttachments() -->
  <help-toggle params="html: legendHtml,
                       lbutton: 'attachment.legend.help'"></help-toggle>

  <div data-bind="template: {name: 'attachments-accordions-template',
                             data: $data}"></div>
  <!-- /ko -->
  <div id="dialog-add-attachment-templates-v2" class="window autosized selectm-dialog">
    <div class="dialog-header">
      <p data-bind="ltext: 'application.newAttachmentTemplates'"></p>
      <p class="dialog-close close lupicon-remove"></p>
    </div>
    <div class="dialog-content">
      <div class="attachment-templates"></div>
    </div>
  </div>
  
  <!-- ko if: $data.hasUnfilteredAttachments() && !$data.hasFilteredAttachments() -->
  <div data-test-id="no-filtered-attachments-info">
    <i class="lupicon-circle-attention negative"></i>
    <span data-bind="ltext: 'attachment.listing.no-filtered-attachments'"></span>
  </div>
  <!-- /ko -->
  <!-- ko if: !$data.hasUnfilteredAttachments() -->
  <div data-test-id="no-unfiltered-attachments-info">
    <i class="lupicon-circle-attention negative"></i>
    <span data-bind="ltext: 'attachment.listing.no-attachments'"></span>
  </div>
  <!-- /ko -->
</script>
