<script class="ko-template" type="text/x-jquery-tmpl" id="create-assignment-template">
  <button class="primary"
          data-bind="toggleClick: editorVisible,
                     testId:'create-assignment-editor'">
    <i class="lupicon-circle-plus"></i>
    <span data-bind="ltext: 'application.assignment.create'"></span>
  </button>
  <bubble-dialog params="visible: editorVisible, okFun: createAssignment, buttonIcon: 'lupicon-save'">
    <!-- ko with: $parent -->
    <div class="form-grid">
      <div class="row">
        <div class="col-1"
             data-bind="component: {name: 'select-field',
                          params: {value: selectedType,
                                  options: types,
                                  optionsValue: 'type',
                                  optionsText: mainTypeLoc,
                                  valueAllowUnset: true,
                                  id: 'assignment-target-group',
                                  label: 'Aihe',
                                  required: false}}">
        </div>
        <div class="col-1"
             data-bind="component: {name: 'select-field',
                         params: {value: selectedSubtype,
                                  options: subTypes,
                                  valueAllowUnset: true,
                                  id: 'assignment-target-id',
                                  label: 'Kohde',
                                  disable: subTypes().length == 0,
                                  required: false}}">
         </div>
         <div class="col-1"
             data-bind="component: {name: 'select-field',
                         params: {value: recipient,
                                  options: params.authorities,
                                  optionsText: function(u) { return u.firstName + ' ' + u.lastName;},
                                  valueAllowUnset: true,
                                  id: 'assignment-recipient',
                                  label: 'Vastaanottaja',
                                  required: true}}">
         </div>
      </div>
    </div>
   <!-- /ko -->
  </bubble-dialog>
</script>
